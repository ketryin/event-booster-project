{"version":3,"sources":["js/pagination.js"],"names":["factory","define","amd","cmd","require","exports","module","jQuery","$","Pagination","$target","options","extend","DEFAULTS","data","init","VERSION","total","current","length","size","prev","next","click","e","prototype","Math","ceil","ajax","me","refresh","render","onClick","empty","page","getPages","start","append","i","end","find","parent","addClass","pages","off","on","hasClass","button","parseInt","isNaN","temp","fn","pagination","each"],"mappings":"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","file":"pagination.d784a908.js","sourceRoot":"../src","sourcesContent":["(function (factory) {\n  \"use strict\";\n  if (typeof define === \"function\" && define.amd) {\n\n    define([\"jquery\"], factory);\n  } else if (typeof define === \"function\" && define.cmd) {\n\n    define(function (require, exports, module) {\n      factory(require(\"jquery\"));\n    });\n  } else {\n    factory(jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  var Pagination = function ($target, options) {\n    this.$target = $target;\n    this.options = $.extend({}, Pagination.DEFAULTS, this.$target.data(\"pagination\"), typeof options == \"object\" && options);\n    this.init();\n  };\n\n  Pagination.VERSION = \"1.4.0\";\n\n  Pagination.DEFAULTS = {\n    total: 1,\n    current: 1,\n    length: 10,\n    size: 2,\n    prev: \"&lt;\",\n    next: \"&gt;\",\n    click: function (e) { }\n  };\n\n  Pagination.prototype = {\n\n    init: function () {\n      if (this.options.total < 1) {\n        this.options.total = 1;\n      }\n      if (this.options.current < 1) {\n        this.options.current = 1;\n      }\n      if (this.options.length < 1) {\n        this.options.length = 1;\n      }\n      if (this.options.current > Math.ceil(this.options.total / this.options.length)) {\n        this.options.current = Math.ceil(this.options.total / this.options.length);\n      }\n      if (this.options.size < 1) {\n        this.options.size = 1;\n      }\n      if ('function' === typeof this.options.ajax) {\n        var me = this;\n        this.options.ajax({\n          current: me.options.current,\n          length: me.options.length,\n          total: me.options.total\n        }, function (options) {\n          return me.refresh(options);\n        }, me.$target);\n      } else {\n        this.render();\n      }\n      this.onClick();\n    },\n\n    render: function () {\n      var options = this.options,\n        $target = this.$target;\n      $target.empty();\n\n      var page = this.getPages();\n      if (page.start > 1) {\n        $target.append('<li><a herf=\"javascript:void(0)\" data-page=\"' + 1 + '\">' + 1 + '</a></li>');\n        $target.append('<li><span>...</span></li>');\n\n      }\n\n      for (var i = page.start; i <= page.end; i++) {\n        $target.append('<li><a herf=\"javascript:void(0)\" data-page=\"' + i + '\">' + i + '</a></li>');\n      }\n      if (page.end < Math.ceil(options.total / options.length)) {\n        $target.append('<li><span>...</span></li>');\n        $target.append('<li><a herf=\"javascript:void(0)\" data-page=\"' + Math.ceil(options.total / options.length) + '\">' + Math.ceil(options.total / options.length) + '</a></li>');\n      }\n\n      $target.find('li>a[data-page=\"' + options.current + '\"]').parent().addClass('active');\n\n      if (options.current <= 1) {\n        $target.find('li>a[data-page=\"prev\"]').parent().addClass(\"disabled\");\n      }\n\n      if (options.current >= Math.ceil(options.total / options.length)) {\n        $target.find('li>a[data-page=\"next\"]').parent().addClass(\"disabled\");\n      }\n    },\n\n    getPages: function () {\n      var $target = this.$target,\n        options = this.options,\n        start = options.current - options.size,\n        end = options.current + options.size;\n\n      if (options.current >= Math.ceil(options.total / options.length) - options.size) {\n        start -= options.current - Math.ceil(options.total / options.length) + options.size;\n      }\n\n      if (options.current <= options.size) {\n        end += options.size - options.current + 1;\n      }\n\n      if (start < 1) {\n        start = 1;\n      }\n\n      if (end > Math.ceil(options.total / options.length)) {\n        end = Math.ceil(options.total / options.length);\n      }\n      var pages = {\n        start: start,\n        end: end\n      }\n      return pages;\n    },\n\n\n    onClick: function () {\n      var $target = this.$target,\n        options = this.options,\n        me = this;\n      $target.off('click');\n      $target.on('click', '>li>a[data-page]', function (e) {\n        if ($(this).parent().hasClass('disabled') || $(this).parent().hasClass('active')) {\n          return\n        }\n        var button = $(this).data(\"page\");\n        switch (button) {\n          case 'prev':\n            if (options.current > 1) {\n              options.current--;\n            }\n            break;\n          case 'next':\n            if (options.current < Math.ceil(options.total)) {\n              options.current++;\n            }\n            break;\n          default:\n            button = parseInt(button);\n            if (!isNaN(button)) {\n              options.current = parseInt(button);\n            }\n            break;\n        }\n        var temp = {\n          current: options.current,\n          length: options.length,\n          total: options.total\n        }\n        if ('function' === typeof options.ajax) {\n          options.ajax(temp, function (options) {\n            return me.refresh(options);\n          }, $target);\n        } else {\n          me.render();\n        }\n\n        options.click(temp, $target);\n      });\n    },\n\n    refresh: function (options) {\n      if ('object' === typeof options) {\n        if (options.total) {\n          this.options.total = options.total;\n        }\n        if (options.length) {\n          this.options.length = options.length;\n        }\n      }\n      this.render();\n    }\n  };\n\n  $.fn.pagination = function (options) {\n    this.each(function () {\n      $(this).data(\"pagination\", new Pagination($(this), options));\n    });\n    return this;\n  }\n});"]}